# Supabase è®¤è¯é…ç½®æŒ‡å—

## âš™ï¸ é…ç½®å›è°ƒ URL

### **1. ç™»å½• Supabase Dashboard**
è®¿é—®ï¼šhttps://supabase.com/dashboard/project/gagxhuubqmqslwkzndxu

### **2. é…ç½®è®¤è¯ URLs**

è¿›å…¥ **Authentication > URL Configuration**ï¼Œæ·»åŠ ä»¥ä¸‹ URLsï¼š

#### **Site URL**ï¼ˆç½‘ç«™ URLï¼‰
```
http://localhost:3000
```

#### **Redirect URLs**ï¼ˆé‡å®šå‘ URLsï¼‰
æ·»åŠ ä»¥ä¸‹æ‰€æœ‰ URLsï¼ˆæ¯è¡Œä¸€ä¸ªï¼‰ï¼š
```
http://localhost:3000/auth/callback
http://localhost:3001/auth/callback
http://localhost:3002/auth/callback
http://localhost:3003/auth/callback
http://localhost:3004/auth/callback
https://blog-euc4.vercel.app/auth/callback
```

**ä¸ºä»€ä¹ˆéœ€è¦å¤šä¸ªç«¯å£ï¼Ÿ**
- Next.js å¼€å‘æœåŠ¡å™¨ä¼šè‡ªåŠ¨æŸ¥æ‰¾å¯ç”¨ç«¯å£
- å¦‚æœ 3000 è¢«å ç”¨ï¼Œä¼šå°è¯• 3001ã€3002 ç­‰
- æ·»åŠ å¤šä¸ªç«¯å£ç¡®ä¿è®¤è¯åœ¨ä»»ä½•ç«¯å£éƒ½èƒ½å·¥ä½œ

#### **3. ç¦ç”¨é‚®ä»¶ç¡®è®¤ï¼ˆå¯é€‰ï¼Œä»…å¼€å‘ç¯å¢ƒï¼‰**

å¦‚æœä½ æƒ³åœ¨å¼€å‘æ—¶è·³è¿‡é‚®ä»¶éªŒè¯ï¼š

è¿›å…¥ **Authentication > Providers > Email**
- å–æ¶ˆé€‰ä¸­ **"Confirm email"**ï¼ˆç¡®è®¤é‚®ç®±ï¼‰
- ç‚¹å‡» **Save**

âš ï¸ **è­¦å‘Š**ï¼šç”Ÿäº§ç¯å¢ƒè¯·ä¿æŒé‚®ä»¶ç¡®è®¤å¼€å¯ï¼

---

## ğŸ§ª æµ‹è¯•è®¤è¯æµç¨‹

### **æœ¬åœ°æµ‹è¯•**

1. **å¯åŠ¨å¼€å‘æœåŠ¡å™¨**
   ```bash
   npm run dev
   ```

2. **æ³¨å†Œæ–°è´¦å·**
   - ç‚¹å‡»å³ä¸Šè§’"ç™»å½•"
   - åˆ‡æ¢åˆ°"ç«‹å³æ³¨å†Œ"
   - å¡«å†™ç”¨æˆ·åã€é‚®ç®±ã€å¯†ç 
   - ç‚¹å‡»"ç«‹å³æ³¨å†Œ"

3. **éªŒè¯é‚®ä»¶**
   - æ£€æŸ¥é‚®ç®±ï¼ˆå¯èƒ½åœ¨åƒåœ¾é‚®ä»¶ä¸­ï¼‰
   - ç‚¹å‡»éªŒè¯é“¾æ¥
   - åº”è¯¥è‡ªåŠ¨é‡å®šå‘å›ç½‘ç«™å¹¶ç™»å½•

4. **ç¡®è®¤ç™»å½•çŠ¶æ€**
   - å³ä¸Šè§’åº”æ˜¾ç¤ºç”¨æˆ·å¤´åƒ
   - ç‚¹å‡»å¯æŸ¥çœ‹ä¸ªäººèµ„æ–™

---

## ğŸš¨ å¸¸è§é—®é¢˜

### **é—®é¢˜ 1ï¼šç‚¹å‡»é‚®ä»¶é“¾æ¥æ˜¾ç¤º"ç½‘é¡µæ— æ³•æ‰“å¼€"**

**åŸå› **ï¼š
- æœ¬åœ°æœåŠ¡å™¨æ²¡æœ‰è¿è¡Œ
- ç«¯å£ä¸åŒ¹é…ï¼ˆé‚®ä»¶é“¾æ¥æ˜¯ 3000ï¼Œä½†æœåŠ¡å™¨åœ¨ 3004ï¼‰

**è§£å†³æ–¹æ¡ˆ**ï¼š
1. ç¡®ä¿å¼€å‘æœåŠ¡å™¨æ­£åœ¨è¿è¡Œ
2. åœ¨ Supabase Dashboard æ·»åŠ å½“å‰ç«¯å£çš„å›è°ƒ URL
3. æˆ–è€…å¼ºåˆ¶ä½¿ç”¨ 3000 ç«¯å£ï¼š
   ```bash
   npm run dev -- -p 3000
   ```

### **é—®é¢˜ 2ï¼šéªŒè¯ç è¿‡æœŸ (otp_expired)**

**åŸå› **ï¼š
- éªŒè¯é“¾æ¥æœ‰æ•ˆæœŸä¸º 1 å°æ—¶
- é‚®ä»¶å‘é€å»¶è¿Ÿ

**è§£å†³æ–¹æ¡ˆ**ï¼š
1. é‡æ–°æ³¨å†Œè·å–æ–°çš„éªŒè¯é‚®ä»¶
2. æˆ–åœ¨å¼€å‘ç¯å¢ƒç¦ç”¨é‚®ä»¶ç¡®è®¤ï¼ˆè§ä¸Šæ–¹é…ç½®ï¼‰

### **é—®é¢˜ 3ï¼šé‡å®šå‘åˆ°é”™è¯¯çš„ URL**

**åŸå› **ï¼š
- Supabase çš„ Site URL é…ç½®é”™è¯¯

**è§£å†³æ–¹æ¡ˆ**ï¼š
- åœ¨ Authentication > URL Configuration ä¸­æ›´æ–° Site URL
- ç¡®ä¿åŒ…å«å½“å‰ä½¿ç”¨çš„ç«¯å£

---

## ğŸ“‹ ç”Ÿäº§ç¯å¢ƒé…ç½®æ¸…å•

éƒ¨ç½²åˆ°ç”Ÿäº§ç¯å¢ƒæ—¶ï¼š

- [ ] æ›´æ–° Site URL ä¸ºç”Ÿäº§åŸŸå
- [ ] æ·»åŠ ç”Ÿäº§åŸŸåçš„å›è°ƒ URL
- [ ] **å¯ç”¨**é‚®ä»¶ç¡®è®¤
- [ ] é…ç½®è‡ªå®šä¹‰é‚®ä»¶æ¨¡æ¿ï¼ˆå¯é€‰ï¼‰
- [ ] è®¾ç½® SMTP é‚®ä»¶æœåŠ¡ï¼ˆå¯é€‰ï¼‰
- [ ] å¯ç”¨ ReCAPTCHAï¼ˆæ¨èï¼‰

---

## ğŸ”— ç›¸å…³é“¾æ¥

- [Supabase Auth æ–‡æ¡£](https://supabase.com/docs/guides/auth)
- [Next.js Auth æŒ‡å—](https://supabase.com/docs/guides/auth/server-side/nextjs)
- [é”™è¯¯ç å‚è€ƒ](https://supabase.com/docs/reference/javascript/auth-error-codes)

